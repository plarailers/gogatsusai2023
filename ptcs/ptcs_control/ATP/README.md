# ATP (自動列車防護) に関するソースコード群

自動列車防護とは、閉塞を使った列車間隔の確保などの安全確保を自動的に行う仕組みのこと。日本の ATS, ATC に相当する。

IEEE 1474 規格において定義されている CBTC は、自動列車管理装置、自動列車運転装置、自動列車防護装置(ATP 装置)より構成されている。

このコードは、ATP 装置の役割を担うことを目的としている。

参考：[都市鉄道向け無線式列車制御システム（CBTC）仕様共通化検討会とりまとめ | 国土交通省](https://www.mlit.go.jp/common/001394016.pdf)

※日本語で「列車防護」と検索すると、事故時に列車を止める仕組みのことをいうらしく、国際的な用語と差があるらしい。

## やること
- 先行列車の位置と、ジャンクションの状態をもとに、各列車の停止位置を計算する
- 各列車の停止位置をもとに、各列車の許容速度を計算する
- 列車速度の指令値が許容速度を超えている場合には、指令値を許容速度まで下げる
- 停止位置と許容速度の両方を、関数で取り出せるようにしておく
